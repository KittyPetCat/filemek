<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filmek és Kedvencek</title>
    <link rel="stylesheet" href="filmek.css">
</head>
<body>
    <h1>Filmek -- Kedvencek</h1>
    <div class="container">
        <div class="column" id="movies-column">
            <h2>Filmek <span class="count" id="movies-count"></span></h2>
            <ul id="movies-list"></ul>
        </div>
        <div class="column" id="favorites-column">
            <h2>Kedvencek <span class="count" id="favorites-count"></span></h2>
            <ul id="favorites-list"></ul>
        </div>
    </div>
    <script src="filmdata.js"></script>
    <script>
        const moviesList = document.getElementById('movies-list');
        const favoritesList = document.getElementById('favorites-list');
        const moviesCount = document.getElementById('movies-count');
        const favoritesCount = document.getElementById('favorites-count');
        let favorites = [];

        function renderLists() {
            moviesList.innerHTML = '';
            favoritesList.innerHTML = '';
            // Filmek száma
            moviesCount.textContent = movies.length;
            // Kedvencek száma
            favoritesCount.textContent = favorites.length;
            movies.forEach((movie) => {
                if (!favorites.includes(movie.id)) {
                    const li = document.createElement('li');
                    li.innerHTML = `<span class="movietitle">${movie.title} <span class='movieinfo'>(${movie.year}) - ${movie.genre}</span></span> <span class="star" title="Kedvencbe">☆</span>`;
                    li.onclick = () => {
                        favorites.push(movie.id);
                        renderLists();
                    };
                    moviesList.appendChild(li);
                }
            });
            movies.filter(m => favorites.includes(m.id)).forEach(movie => {
                const li = document.createElement('li');
                li.innerHTML = `<span class=\"movietitle\">${movie.title} <span class='movieinfo'>(${movie.year}) - ${movie.genre}</span></span> <span class=\"star filled\" title=\"Eltávolítás\">★</span>`;
                li.onclick = () => {
                    favorites = favorites.filter(id => id !== movie.id);
                    renderLists();
                };
                favoritesList.appendChild(li);
            });
        }
        renderLists();
    </script>
</body>
</html>
